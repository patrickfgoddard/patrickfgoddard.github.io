<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Genre Generator presented by Patrick F. Goddard</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css">
    <!-- Custom styles for this template -->
    <link href="style.css" rel="stylesheet">
    <script>
       // 4 or 5 descriptors chosen from this
       var descriptorsArray = new Array("transgender", "afro", "down-tempo", "gamewave", "gamelan", "death", "black", "pagan", "gothic", "alternative", "funk", "progressive", "drone", "crust", "free-form", "industrial", "nu", "sludge", "garage", "goa", "grime", "horror", "indie", "irish", "jam", "fusion", "Jawaiian", "jig", "jug", "k-pop", "kubuki", "kiwi", "kinky", "Kwaito", "latin", "lo-fi", "light", "lounge", "Louisiana", "memphis", "detroit", "west coast", "east coast", "down tempo", "Luk grunge", "mambo", "mandarin", "marimba", "math", "medieval", "melodic", "pop-punk", "noise", "Merengue", "mexican", "post", "miami", "Minstrel", "minimalist", "modern", "motown", "nardcore", "nashville", "neo", "new age", "no age", "house", "romantic", "old time", "oldies", "obscuro", "avante garde", "operatic", "organic", "outlaw", "parody", "peace", "piano", "poco-poco", "porno", "power", "Psychedelic", "psych", "raga", "ragtime", "Reggae", "retro", "roots", "sad", "slow", "uptempo", "sacred", "saya", "country", "western", "shock", "scum", "smooth", "yacht rock", "slack-key", "soft", "southern", "spiritual", "space", "stoner", "desert", "surf", "swamp", "symphonic", "synth", "technoid", "thrash", "texas", "teen", "tibetan", "traditional", "trip-hop", "twee", "two-tone", "urban", "underground", "viking", "world", "hard", "street");
       // one top level chosen and put at end
       var toplevelArray = new Array("rock", "metal", "folk", "blues", "jazz", "pop", "hip hop", "core", "psychobilly", "techno", "polka", "trance", "funk", "rock en espanol", "rumba", "gospel", "salsa", "samba", "screamo", "country", "shoegaze", "ska", "speedcore", "soul", "tango", "tumba", "waltz", "zydeco");
       
       // choose 4 random descriptors
       var descriptor =descriptorRand(4,descriptorsArray);
       
       // choose 1 random top level
       var toplevel =descriptorRand(1,toplevelArray);

       // Give function number of random items
       // and name of array to choose from
       // to do: why are undefines occurring?
        function descriptorRand(num,arrayName) {

          var random = '';
          var particle = '';
          var index = 0;
          // Capitalize first letter.
          // Taken from:
          // http://stackoverflow.com/questions/1026069/capitalize-the-first-letter-of-string-in-javascript
          String.prototype.capitalize = function() {
            return this.charAt(0).toUpperCase() + this.slice(1);
          }
          for ( var i = 0; i < num; i++ ) {
            index = Math.round(Math.random()*arrayName.length);
            particle = arrayName[index] + ' ';
            // remove that element so it can't be chosen again
            arrayName.splice(index,1)           
            random += particle.capitalize();
          }          
          
          return random;
        }
        
        // On page load, populate the give with generated genre.
         $(function() {
            $('#genre').text(descriptor + toplevel);
          });
       </script>
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="../../assets/js/html5shiv.js"></script>
      <script src="../../assets/js/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">PFG</a>
        </div>
        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li class="active"><a href="/">Home</a></li>
            <li><a href="/about">About</a></li>
            <li><a href="/contact">Contact</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>

    <div class="container">
      <div class="starter-template">
        <h1>Your band's new genre is:</h1>
        <div id="genre"></div>
      </div>
      <footer>
      All code &copy; 2013 Patrick F. Goddard
    </footer>
    </div><!-- /.container -->
  
    
     <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="//code.jquery.com/jquery.js"></script>
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
  </body>
</html>
